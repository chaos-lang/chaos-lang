/* lex_transitions.h
   author: Simon Lovell Bart (microchips-n-dip)
   description: A header file containing the lexer state transition table.
                This is separate for code readability and maintainability.
   date: 2019-06-12
   */

static const signed char
transitions[LS_LENGTH][EQCLASS_LENGTH] = {
  /* Initial transitions. */
  [LS_START][EQCLASS_WHITESPACE]       = LS_WHITESPACE,
  [LS_START][EQCLASS_NEWLINE]          = LS_NEWLINE,
  [LS_START][EQCLASS_IDENT]            = LS_IDENT,
  [LS_START][EQCLASS_NUMBER]           = LS_NUMBER,
  [LS_START][EQCLASS_EQUALS]           = LS_SEEN_EQUALS,
  [LS_START][EQCLASS_COLON]            = LS_SEEN_COLON,
  [LS_START][EQCLASS_MINUS]            = LS_SEEN_MINUS,
  [LS_START][EQCLASS_DOT]              = LS_SEEN_DOT,
  [LS_START][EQCLASS_GT]               = LS_OPERATOR,
  [LS_START][EQCLASS_OPERATOR]         = LS_OPERATOR,
  [LS_START][EQCLASS_TICK]             = LS_SEEN_TICK,
  /* Whitespace transitions. */
  [LS_WHITESPACE][EQCLASS_WHITESPACE]  = LS_WHITESPACE,
  [LS_WHITESPACE][EQCLASS_NEWLINE]     = LS_WHITESPACE,
  [LS_WHITESPACE][EQCLASS_IDENT]       = LS_START,
  [LS_WHITESPACE][EQCLASS_NUMBER]      = LS_START,
  [LS_WHITESPACE][EQCLASS_EQUALS]      = LS_START,
  [LS_WHITESPACE][EQCLASS_COLON]       = LS_START,
  [LS_WHITESPACE][EQCLASS_MINUS]       = LS_START,
  [LS_WHITESPACE][EQCLASS_DOT]         = LS_START,
  [LS_WHITESPACE][EQCLASS_GT]          = LS_START,
  [LS_WHITESPACE][EQCLASS_OPERATOR]    = LS_START,
  [LS_NEWLINE][EQCLASS_WHITESPACE]     = LS_NEWLINE_TERMINAL,
  [LS_NEWLINE][EQCLASS_NEWLINE]        = LS_NEWLINE,
  [LS_NEWLINE][EQCLASS_IDENT]          = LS_NEWLINE_TERMINAL,
  [LS_NEWLINE][EQCLASS_NUMBER]         = LS_NEWLINE_TERMINAL,
  [LS_NEWLINE][EQCLASS_EQUALS]         = LS_NEWLINE_TERMINAL,
  [LS_NEWLINE][EQCLASS_COLON]          = LS_NEWLINE_TERMINAL,
  [LS_NEWLINE][EQCLASS_MINUS]          = LS_NEWLINE_TERMINAL,
  [LS_NEWLINE][EQCLASS_DOT]            = LS_NEWLINE_TERMINAL,
  [LS_NEWLINE][EQCLASS_GT]             = LS_NEWLINE_TERMINAL,
  [LS_NEWLINE][EQCLASS_OPERATOR]       = LS_NEWLINE_TERMINAL,
  /* Normal textual transitions. */
  [LS_IDENT][EQCLASS_WHITESPACE]       = LS_IDENT_TERMINAL,
  [LS_IDENT][EQCLASS_NEWLINE]          = LS_IDENT_TERMINAL,
  [LS_IDENT][EQCLASS_IDENT]            = LS_IDENT,
  [LS_IDENT][EQCLASS_NUMBER]           = LS_IDENT,
  [LS_IDENT][EQCLASS_EQUALS]           = LS_IDENT_TERMINAL,
  [LS_IDENT][EQCLASS_COLON]            = LS_IDENT_TERMINAL,
  [LS_IDENT][EQCLASS_MINUS]            = LS_IDENT_TERMINAL,
  [LS_IDENT][EQCLASS_DOT]              = LS_IDENT_TERMINAL,
  [LS_IDENT][EQCLASS_GT]               = LS_IDENT_TERMINAL,
  [LS_IDENT][EQCLASS_OPERATOR]         = LS_IDENT_TERMINAL,
  [LS_IDENT][EQCLASS_TICK]             = LS_IDENT_TERMINAL,
  [LS_NUMBER][EQCLASS_WHITESPACE]      = LS_NUMBER_TERMINAL,
  [LS_NUMBER][EQCLASS_NEWLINE]         = LS_NUMBER_TERMINAL,
  [LS_NUMBER][EQCLASS_IDENT]           = LS_NUMBER_TERMINAL,
  [LS_NUMBER][EQCLASS_NUMBER]          = LS_NUMBER,
  [LS_NUMBER][EQCLASS_EQUALS]          = LS_NUMBER_TERMINAL,
  [LS_NUMBER][EQCLASS_COLON]           = LS_NUMBER_TERMINAL,
  [LS_NUMBER][EQCLASS_MINUS]           = LS_NUMBER_TERMINAL,
  [LS_NUMBER][EQCLASS_DOT]             = LS_NUMBER_TERMINAL,
  [LS_NUMBER][EQCLASS_GT]              = LS_NUMBER_TERMINAL,
  [LS_NUMBER][EQCLASS_OPERATOR]        = LS_NUMBER_TERMINAL,
  [LS_NUMBER][EQCLASS_TICK]            = LS_NUMBER_TERMINAL,
  /* TODO: Strings and chars. */
  /* Operator transitions. */
  [LS_SEEN_EQUALS][EQCLASS_WHITESPACE] = LS_EQUALS_TERMINAL,
  [LS_SEEN_EQUALS][EQCLASS_NEWLINE]    = LS_EQUALS_TERMINAL,
  [LS_SEEN_EQUALS][EQCLASS_IDENT]      = LS_EEUALS_TERMINAL,
  [LS_SEEN_EQUALS][EQCLASS_NUMBER]     = LS_EQUALS_TERMINAL,
  [LS_SEEN_EQUALS][EQCLASS_EQUALS]     = LS_OPERATOR,
  [LS_SEEN_EQUALS][EQCLASS_COLON]      = LS_OPERATOR,
  [LS_SEEN_EQUALS][EQCLASS_MINUS]      = LS_OPERATOR,
  [LS_SEEN_EQUALS][EQCLASS_DOT]        = LS_OPERATOR,
  [LS_SEEN_EQUALS][EQCLASS_GT]         = LS_SEEN_IMPURE,
  [LS_SEEN_EQUALS][EQCLASS_OPERATOR]   = LS_OPERATOR,
  [LS_SEEN_COLON][EQCLASS_WHITESPACE]  = LS_COLON_TERMINAL,
  [LS_SEEN_COLON][EQCLASS_NEWLINE]     = LS_COLON_TERMINAL,
  [LS_SEEN_COLON][EQCLASS_IDENT]       = LS_COLON_TERMINAL,
  [LS_SEEN_COLON][EQCLASS_NUMBER]      = LS_COLON_TERMINAL,
  [LS_SEEN_COLON][EQCLASS_EQUALS]      = LS_OPERATOR,
  [LS_SEEN_COLON][EQCLASS_COLON]       = LS_OPERATOR,
  [LS_SEEN_COLON][EQCLASS_MINUS]       = LS_OPERATOR,
  [LS_SEEN_COLON][EQCLASS_DOT]         = LS_OPERATOR,
  [LS_SEEN_COLON][EQCLASS_GT]          = LS_OPERATOR,
  [LS_SEEN_COLON][EQCLASS_OPERATOR]    = LS_OPERATOR,
  [LS_SEEN_MINUS][EQCLASS_WHITESPACE]  = LS_OPERATOR_TERMINAL,
  [LS_SEEN_MINUS][EQCLASS_NEWLINE]     = LS_OPERATOR_TERMINAL,
  [LS_SEEN_MINUS][EQCLASS_IDENT]       = LS_OPERATOR_TERMINAL,
  [LS_SEEN_MINUS][EQCLASS_NUMBER]      = LS_OPERATOR_TERMINAL,
  [LS_SEEN_MINUS][EQCLASS_EQUALS]      = LS_OPERATOR,
  [LS_SEEN_MINUS][EQCLASS_COLON]       = LS_OPERATOR,
  [LS_SEEN_MINUS][EQCLASS_MINUS]       = LS_OPERATOR,
  [LS_SEEN_MINUS][EQCLASS_DOT]         = LS_OPERATOR,
  [LS_SEEN_MINUS][EQCLASS_GT]          = LS_SEEN_RARROW,
  [LS_SEEN_MINUS][EQCLASS_OPERATOR]    = LS_OPERATOR,
  [LS_SEEN_DOT][EQCLASS_WHITESPACE]    = LS_OPERATOR_TERMINAL,
  [LS_SEEN_DOT][EQCLASS_NEWLINE]       = LS_OPERATOR_TERMINAL,
  [LS_SEEN_DOT][EQCLASS_IDENT]         = LS_OPERATOR_TERMINAL,
  [LS_SEEN_DOT][EQCLASS_NUMBER]        = LS_OPERATOR_TERMINAL,
  [LS_SEEN_DOT][EQCLASS_EQUALS]        = LS_OPERATOR,
  [LS_SEEN_DOT][EQCLASS_COLON]         = LS_OPERATOR,
  [LS_SEEN_DOT][EQCLASS_MINUS]         = LS_OPERATOR,
  [LS_SEEN_DOT][EQCLASS_DOT]           = LS_SEEN_DOT_2,
  [LS_SEEN_DOT][EQCLASS_GT]            = LS_OPERATOR,
  [LS_SEEN_DOT][EQCLASS_OPERATOR]      = LS_OPERATOR,
  [LS_SEEN_RARROW][EQCLASS_WHITESPACE] = LS_RARROW_TERMINAL,
  [LS_SEEN_RARROW][EQCLASS_NEWLINE]    = LS_RARROW_TERMINAL,
  [LS_SEEN_RARROW][EQCLASS_IDENT]      = LS_RARROW_TERMINAL,
  [LS_SEEN_RARROW][EQCLASS_NUMBER]     = LS_RARROW_TERMINAL,
  [LS_SEEN_RARROW][EQCLASS_EQUALS]     = LS_OPERATOR,
  [LS_SEEN_RARROW][EQCLASS_COLON]      = LS_OPERATOR,
  [LS_SEEN_RARROW][EQCLASS_MINUS]      = LS_OPERATOR,
  [LS_SEEN_RARROW][EQCLASS_DOT]        = LS_OPERATOR,
  [LS_SEEN_RARROW][EQCLASS_GT]         = LS_OPERATOR,
  [LS_SEEN_RARROW][EQCLASS_OPERATOR]   = LS_OPERATOR,
  [LS_SEEN_IMPURE][EQCLASS_WHITESPACE] = LS_IMPURE_TERMINAL,
  [LS_SEEN_IMPURE][EQCLASS_NEWLINE]    = LS_IMPURE_TERMINAL,
  [LS_SEEN_IMPURE][EQCLASS_IDENT]      = LS_IMPURE_TERMINAL,
  [LS_SEEN_IMPURE][EQCLASS_NUMBER]     = LS_IMPURE_TERMINAL,
  [LS_SEEN_IMPURE][EQCLASS_EQUALS]     = LS_OPERATOR,
  [LS_SEEN_IMPURE][EQCLASS_COLON]      = LS_OPERATOR,
  [LS_SEEN_IMPURE][EQCLASS_MINUS]      = LS_OPERATOR,
  [LS_SEEN_IMPURE][EQCLASS_DOT]        = LS_OPERATOR,
  [LS_SEEN_IMPURE][EQCLASS_GT]         = LS_OPERATOR,
  [LS_SEEN_IMPURE][EQCLASS_OPERATOR]   = LS_OPERATOR,
  [LS_SEEN_IMPURE][EQCLASS_TICK]       = LS_OPERATOR,
  [LS_SEEN_DOT_2][EQCLASS_WHITESPACE]  = LS_OPERATOR_TERMINAL,
  [LS_SEEN_DOT_2][EQCLASS_NEWLINE]     = LS_OPERATOR_TERMINAL,
  [LS_SEEN_DOT_2][EQCLASS_IDENT]       = LS_OPERATOR_TERMINAL,
  [LS_SEEN_DOT_2][EQCLASS_NUMBER]      = LS_OPERATOR_TERMINAL,
  [LS_SEEN_DOT_2][EQCLASS_EQUALS]      = LS_OPERATOR,
  [LS_SEEN_DOT_2][EQCLASS_COLON]       = LS_OPERATOR,
  [LS_SEEN_DOT_2][EQCLASS_MINUS]       = LS_OPERATOR,
  [LS_SEEN_DOT_2][EQCLASS_DOT]         = LS_SEEN_DOT_3,
  [LS_SEEN_DOT_2][EQCLASS_GT]          = LS_OPERATOR,
  [LS_SEEN_DOT_2][EQCLASS_OPERATOR]    = LS_OPERATOR,
  [LS_SEEN_DOT_3][EQCLASS_WHITESPACE]  = LS_ELLIPSIS_TERMINAL,
  [LS_SEEN_DOT_3][EQCLASS_NEWLINE]     = LS_ELLIPSIS_TERMINAL,
  [LS_SEEN_DOT_3][EQCLASS_IDENT]       = LS_ELLIPSIS_TERMINAL,
  [LS_SEEN_DOT_3][EQCLASS_NUMBER]      = LS_ELLIPSIS_TERMINAL,
  [LS_SEEN_DOT_3][EQCLASS_EQUALS]      = LS_OPERATOR,
  [LS_SEEN_DOT_3][EQCLASS_COLON]       = LS_OPERATOR,
  [LS_SEEN_DOT_3][EQCLASS_MINUS]       = LS_OPERATOR,
  [LS_SEEN_DOT_3][EQCLASS_DOT]         = LS_OPERATOR,
  [LS_SEEN_DOT_3][EQCLASS_GT]          = LS_OPERATOR,
  [LS_SEEN_DOT_3][EQCLASS_OPERATOR]    = LS_OPERATOR,
  [LS_OPERATOR][EQCLASS_WHITESPACE]    = LS_OPERATOR_TERMINAL,
  [LS_OPERATOR][EQCLASS_NEWLINE]       = LS_OPERATOR_TERMINAL,
  [LS_OPERATOR][EQCLASS_IDENT]         = LS_OPERATOR_TERMINAL,
  [LS_OPERATOR][EQCLASS_NUMBER]        = LS_OPERATOR_TERMINAL,
  [LS_OPERATOR][EQCLASS_EQUALS]        = LS_OPERATOR,
  [LS_OPERATOR][EQCLASS_COLON]         = LS_OPERATOR,
  [LS_OPERATOR][EQCLASS_MINUS]         = LS_OPERATOR,
  [LS_OPERATOR][EQCLASS_DOT]           = LS_OPERATOR,
  [LS_OPERATOR][EQCLASS_GT]            = LS_OPERATOR,
  [LS_OPERATOR][EQCLASS_OPERATOR]      = LS_OPERATOR,
  /* */
};
